var api="http://api.openweathermap.org/data/2.5/weather?",appid="appid=e0b01df8d539332186b67b9610fdd7b2",lon="lon=",lat="lat=",temp=$("#temp"),indicator=$("#indicator"),city=$("#city"),sunRise=$("#sun-rise"),sunSet=$("#sun-set"),appuri;$("document").ready(function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){lon+=t.coords.longitude,lat+=t.coords.latitude,apiuri=api+"&"+lon+"&"+lat+"&units=metric&"+appid,$.ajax({url:apiuri,type:"GET",jsonp:"callback",dataType:"jsonp"}).done(function(t){function e(t){$("."+t).removeClass("hide")}temp.text(t.main.temp),indicator.text("Â°C"),city.text(t.name);var a=new Date(1e3*t.sys.sunrise).toLocaleTimeString(),n=new Date(1e3*t.sys.sunset).toLocaleTimeString();sunRise.text(a),sunSet.text(n);var i,o=t.weather[0].id;o>199&&o<322&&(i="thunderstom"),o>499&&o<532&&(i="rain"),o>599&&o<623&&(i="snow"),o>700&&o<782&&(i="clouds"),800===o&&(i="clear"),o>800&&o<805&&(i="clouds"),i=o>899&&o<907?"thunderstom":"clear",e(i)}).fail(function(){console.log("error")})})});