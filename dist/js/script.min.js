var api="https://crossorigin.me/http://api.openweathermap.org/data/2.5/weather?",appid="appid=e0b01df8d539332186b67b9610fdd7b2",lon="lon=",lat="lat=",temp=$("#temp"),indicator=$("#indicator"),city=$("#city"),sunRise=$("#sun-rise"),sunSet=$("#sun-set"),appuri;$("document").ready(function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){lon+=t.coords.longitude,lat+=t.coords.latitude,apiuri=api+"&"+lon+"&"+lat+"&units=metric&"+appid,$.ajax({url:apiuri,type:"GET",jsonp:"callback",dataType:"jsonp"}).done(function(t){function e(t){$("."+t).removeClass("hide")}temp.text(t.main.temp),indicator.text("Â°C"),city.text(t.name),console.log(t);var o=new Date(1e3*t.sys.sunrise).toLocaleTimeString(),n=new Date(1e3*t.sys.sunset).toLocaleTimeString();sunRise.text(o),sunSet.text(n);var a,i=t.weather[0].id;i>199&&i<322&&(a="thunderstom"),i>499&&i<532&&(a="rain"),i>599&&i<623&&(a="snow"),i>700&&i<782&&(a="clouds"),800===i&&(a="clear"),i>800&&i<805&&(a="clouds"),a=i>899&&i<907?"thunderstom":"clear",e(a)}).fail(function(){console.log("error")})})});